<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Nav</title>
    <meta charset="utf-8">
    <style>
      body {
        background-color: black;
        font-family: sans-serif;
      }
      .nav-wrap {
        border: 2px solid gray;
        width: fit-content;
        margin: 0 auto;
        border-radius: 500px;
        position: relative;

        box-shadow: inset 10px 0 10px black;
        background: linear-gradient(0deg, black, rgb(78, 78, 78));
      }
      .nav {
        width: fit-content;
        anchor-name: --nav;
        margin: 6.7px;
        a {
          z-index: 10;
          position: relative;
          display: inline-block;
          padding: 20px 50px;
          color: white;
          text-decoration: none;

          &:before {
            content: "";
            display: block;
            position: absolute;
            inset: 0;
            opacity: 0.2;
          }

          &.active {
            anchor-name: --active;
            color: black;
          }

          &:hover:before {
            anchor-name: --nav;
          }
        }
      }

      .bubble {
        background: white;

        top: anchor(top);
        bottom: anchor(bottom);
        left: anchor(left);
        right: anchor(right);
        position: absolute;
        transition: all 0.2s;
        border-radius: 500px;
        
        &.active {
          position-anchor: --active;
          z-index: 2;
          background: linear-gradient(180deg, rgb(255, 255, 255), rgb(165, 165, 165));
          box-shadow: inset 0 2px 7px rgb(209, 205, 205);
        }
        &.hover {
          position-anchor: --nav;
          z-index: 1;
          background: linear-gradient(180deg, rgb(84, 84, 84), black);
          box-shadow: inset 0 2px 7px rgb(209, 205, 205);
        }
      }
    </style>
  </head>
  <body>
    <div class="nav-wrap">
      <div class = "bubble active"></div>
      <div class = "bubble hover"></div>
      <nav class="nav">
        <a href="#">Projects</a>
        <a href="#">Gallery</a>
        <a href="#">Studio</a>
        <a href="#">Profile</a>
      </nav>
    </div>

    <script>
      const links = document.querySelectorAll("nav a");
      links.forEach((link) => {
        link.addEventListener("click", () => {
          links.forEach((l) => l.classList.remove("active"));
          link.classList.add("active");
        });
      });
    </script>

  </body>
</html>